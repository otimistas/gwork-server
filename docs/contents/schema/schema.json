{"name":"gwork","desc":"","tables":[{"name":"public.schema_migrations","type":"BASE TABLE","comment":"","columns":[{"name":"version","type":"bigint","nullable":false,"default":null,"comment":""},{"name":"dirty","type":"boolean","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"schema_migrations_pkey","def":"CREATE UNIQUE INDEX schema_migrations_pkey ON public.schema_migrations USING btree (version)","table":"public.schema_migrations","columns":["version"],"comment":""}],"constraints":[{"name":"schema_migrations_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (version)","table":"public.schema_migrations","referenced_table":"","columns":["version"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.m_users","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"login_id","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"password","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"last_logged_in_at","type":"timestamp without time zone","nullable":true,"default":null,"comment":""},{"name":"created_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"from_system","type":"boolean","nullable":false,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"m_users_pkey","def":"CREATE UNIQUE INDEX m_users_pkey ON public.m_users USING btree (id)","table":"public.m_users","columns":["id"],"comment":""},{"name":"m_users_login_id_key","def":"CREATE UNIQUE INDEX m_users_login_id_key ON public.m_users USING btree (login_id)","table":"public.m_users","columns":["login_id"],"comment":""},{"name":"idx_m_users_name","def":"CREATE INDEX idx_m_users_name ON public.m_users USING btree (name)","table":"public.m_users","columns":["name"],"comment":""},{"name":"idx_m_users_last_logged_in_at","def":"CREATE INDEX idx_m_users_last_logged_in_at ON public.m_users USING btree (last_logged_in_at)","table":"public.m_users","columns":["last_logged_in_at"],"comment":""}],"constraints":[{"name":"m_users_created_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (created_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.m_users","referenced_table":"m_users","columns":["created_by"],"referenced_columns":["id"],"comment":""},{"name":"m_users_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.m_users","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"m_users_login_id_key","type":"UNIQUE","def":"UNIQUE (login_id)","table":"public.m_users","referenced_table":"","columns":["login_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.m_role_categories","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"detail","type":"text","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"m_role_categories_pkey","def":"CREATE UNIQUE INDEX m_role_categories_pkey ON public.m_role_categories USING btree (id)","table":"public.m_role_categories","columns":["id"],"comment":""},{"name":"idx_m_role_categories_name","def":"CREATE INDEX idx_m_role_categories_name ON public.m_role_categories USING btree (name)","table":"public.m_role_categories","columns":["name"],"comment":""}],"constraints":[{"name":"m_role_categories_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.m_role_categories","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.m_roles","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"detail","type":"text","nullable":false,"default":null,"comment":""},{"name":"category_id","type":"uuid","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"m_roles_pkey","def":"CREATE UNIQUE INDEX m_roles_pkey ON public.m_roles USING btree (id)","table":"public.m_roles","columns":["id"],"comment":""},{"name":"idx_m_roles_name","def":"CREATE INDEX idx_m_roles_name ON public.m_roles USING btree (name)","table":"public.m_roles","columns":["name"],"comment":""}],"constraints":[{"name":"m_roles_category_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (category_id) REFERENCES m_role_categories(id) ON UPDATE RESTRICT ON DELETE RESTRICT","table":"public.m_roles","referenced_table":"m_role_categories","columns":["category_id"],"referenced_columns":["id"],"comment":""},{"name":"m_roles_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.m_roles","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.t_user_role","type":"BASE TABLE","comment":"","columns":[{"name":"user_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"role_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"attached_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"from_system","type":"boolean","nullable":false,"default":null,"comment":""},{"name":"attached_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"t_user_role_pkey","def":"CREATE UNIQUE INDEX t_user_role_pkey ON public.t_user_role USING btree (user_id, role_id)","table":"public.t_user_role","columns":["role_id","user_id"],"comment":""}],"constraints":[{"name":"t_user_role_attached_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (attached_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.t_user_role","referenced_table":"m_users","columns":["attached_by"],"referenced_columns":["id"],"comment":""},{"name":"t_user_role_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES m_users(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_user_role","referenced_table":"m_users","columns":["user_id"],"referenced_columns":["id"],"comment":""},{"name":"t_user_role_role_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (role_id) REFERENCES m_roles(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_user_role","referenced_table":"m_roles","columns":["role_id"],"referenced_columns":["id"],"comment":""},{"name":"t_user_role_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (user_id, role_id)","table":"public.t_user_role","referenced_table":"","columns":["user_id","role_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.m_groups","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"is_open","type":"boolean","nullable":false,"default":null,"comment":""},{"name":"is_primitive","type":"boolean","nullable":false,"default":null,"comment":""},{"name":"is_personal","type":"boolean","nullable":false,"default":null,"comment":""},{"name":"created_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"m_groups_pkey","def":"CREATE UNIQUE INDEX m_groups_pkey ON public.m_groups USING btree (id)","table":"public.m_groups","columns":["id"],"comment":""},{"name":"idx_m_groups_name","def":"CREATE INDEX idx_m_groups_name ON public.m_groups USING btree (name)","table":"public.m_groups","columns":["name"],"comment":""}],"constraints":[{"name":"m_groups_created_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (created_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.m_groups","referenced_table":"m_users","columns":["created_by"],"referenced_columns":["id"],"comment":""},{"name":"m_groups_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.m_groups","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.t_user_group","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('t_user_group_id_seq'::regclass)","comment":""},{"name":"user_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"group_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"is_valid","type":"boolean","nullable":false,"default":"true","comment":""},{"name":"added_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"t_user_group_pkey","def":"CREATE UNIQUE INDEX t_user_group_pkey ON public.t_user_group USING btree (id)","table":"public.t_user_group","columns":["id"],"comment":""}],"constraints":[{"name":"t_user_group_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES m_users(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_user_group","referenced_table":"m_users","columns":["user_id"],"referenced_columns":["id"],"comment":""},{"name":"t_user_group_group_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (group_id) REFERENCES m_groups(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_user_group","referenced_table":"m_groups","columns":["group_id"],"referenced_columns":["id"],"comment":""},{"name":"t_user_group_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.t_user_group","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.t_group_invites","type":"BASE TABLE","comment":"","columns":[{"name":"user_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"group_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"is_valid","type":"boolean","nullable":false,"default":"true","comment":""},{"name":"invited_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"canceled_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"invited_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"canceled_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"t_group_invites_pkey","def":"CREATE UNIQUE INDEX t_group_invites_pkey ON public.t_group_invites USING btree (user_id, group_id)","table":"public.t_group_invites","columns":["group_id","user_id"],"comment":""}],"constraints":[{"name":"t_group_invites_canceled_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (canceled_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.t_group_invites","referenced_table":"m_users","columns":["canceled_by"],"referenced_columns":["id"],"comment":""},{"name":"t_group_invites_invited_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (invited_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.t_group_invites","referenced_table":"m_users","columns":["invited_by"],"referenced_columns":["id"],"comment":""},{"name":"t_group_invites_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES m_users(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_group_invites","referenced_table":"m_users","columns":["user_id"],"referenced_columns":["id"],"comment":""},{"name":"t_group_invites_group_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (group_id) REFERENCES m_groups(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_group_invites","referenced_table":"m_groups","columns":["group_id"],"referenced_columns":["id"],"comment":""},{"name":"t_group_invites_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (user_id, group_id)","table":"public.t_group_invites","referenced_table":"","columns":["user_id","group_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.m_user_permission_categories","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"detail","type":"text","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"m_user_permission_categories_pkey","def":"CREATE UNIQUE INDEX m_user_permission_categories_pkey ON public.m_user_permission_categories USING btree (id)","table":"public.m_user_permission_categories","columns":["id"],"comment":""},{"name":"idx_m_user_permission_categories_name","def":"CREATE INDEX idx_m_user_permission_categories_name ON public.m_user_permission_categories USING btree (name)","table":"public.m_user_permission_categories","columns":["name"],"comment":""}],"constraints":[{"name":"m_user_permission_categories_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.m_user_permission_categories","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.m_user_permissions","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"detail","type":"text","nullable":false,"default":null,"comment":""},{"name":"category_id","type":"uuid","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"m_user_permissions_pkey","def":"CREATE UNIQUE INDEX m_user_permissions_pkey ON public.m_user_permissions USING btree (id)","table":"public.m_user_permissions","columns":["id"],"comment":""},{"name":"idx_m_user_permissions_name","def":"CREATE INDEX idx_m_user_permissions_name ON public.m_user_permissions USING btree (name)","table":"public.m_user_permissions","columns":["name"],"comment":""}],"constraints":[{"name":"m_user_permissions_category_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (category_id) REFERENCES m_user_permission_categories(id) ON UPDATE RESTRICT ON DELETE RESTRICT","table":"public.m_user_permissions","referenced_table":"m_user_permission_categories","columns":["category_id"],"referenced_columns":["id"],"comment":""},{"name":"m_user_permissions_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.m_user_permissions","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.t_user_group_permission","type":"BASE TABLE","comment":"","columns":[{"name":"user_group_id","type":"integer","nullable":false,"default":null,"comment":""},{"name":"permission_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"attached_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"attached_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"t_user_group_permission_pkey","def":"CREATE UNIQUE INDEX t_user_group_permission_pkey ON public.t_user_group_permission USING btree (user_group_id, permission_id)","table":"public.t_user_group_permission","columns":["permission_id","user_group_id"],"comment":""}],"constraints":[{"name":"t_user_group_permission_attached_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (attached_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.t_user_group_permission","referenced_table":"m_users","columns":["attached_by"],"referenced_columns":["id"],"comment":""},{"name":"t_user_group_permission_user_group_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_group_id) REFERENCES t_user_group(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_user_group_permission","referenced_table":"t_user_group","columns":["user_group_id"],"referenced_columns":["id"],"comment":""},{"name":"t_user_group_permission_permission_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (permission_id) REFERENCES m_user_permissions(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_user_group_permission","referenced_table":"m_user_permissions","columns":["permission_id"],"referenced_columns":["id"],"comment":""},{"name":"t_user_group_permission_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (user_group_id, permission_id)","table":"public.t_user_group_permission","referenced_table":"","columns":["user_group_id","permission_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.m_storage_access_permissions","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"mode","type":"character(3)","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"m_storage_access_permissions_pkey","def":"CREATE UNIQUE INDEX m_storage_access_permissions_pkey ON public.m_storage_access_permissions USING btree (id)","table":"public.m_storage_access_permissions","columns":["id"],"comment":""},{"name":"idx_m_storage_access_permissions_mode","def":"CREATE INDEX idx_m_storage_access_permissions_mode ON public.m_storage_access_permissions USING btree (mode)","table":"public.m_storage_access_permissions","columns":["mode"],"comment":""}],"constraints":[{"name":"m_storage_access_permissions_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.m_storage_access_permissions","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.m_storages","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"prefix","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"created_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"m_storages_pkey","def":"CREATE UNIQUE INDEX m_storages_pkey ON public.m_storages USING btree (id)","table":"public.m_storages","columns":["id"],"comment":""},{"name":"m_storages_prefix_key","def":"CREATE UNIQUE INDEX m_storages_prefix_key ON public.m_storages USING btree (prefix)","table":"public.m_storages","columns":["prefix"],"comment":""},{"name":"idx_m_storages_name","def":"CREATE INDEX idx_m_storages_name ON public.m_storages USING btree (name)","table":"public.m_storages","columns":["name"],"comment":""},{"name":"idx_m_storages_prefix","def":"CREATE INDEX idx_m_storages_prefix ON public.m_storages USING btree (prefix)","table":"public.m_storages","columns":["prefix"],"comment":""}],"constraints":[{"name":"m_storages_created_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (created_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.m_storages","referenced_table":"m_users","columns":["created_by"],"referenced_columns":["id"],"comment":""},{"name":"m_storages_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.m_storages","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""},{"name":"m_storages_prefix_key","type":"UNIQUE","def":"UNIQUE (prefix)","table":"public.m_storages","referenced_table":"","columns":["prefix"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.t_group_storage_permission","type":"BASE TABLE","comment":"","columns":[{"name":"storage_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"group_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"attached_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"last_changed_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"attached_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"last_changed_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"t_group_storage_permission_pkey","def":"CREATE UNIQUE INDEX t_group_storage_permission_pkey ON public.t_group_storage_permission USING btree (storage_id, group_id)","table":"public.t_group_storage_permission","columns":["group_id","storage_id"],"comment":""}],"constraints":[{"name":"t_group_storage_permission_attached_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (attached_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.t_group_storage_permission","referenced_table":"m_users","columns":["attached_by"],"referenced_columns":["id"],"comment":""},{"name":"t_group_storage_permission_last_changed_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (last_changed_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.t_group_storage_permission","referenced_table":"m_users","columns":["last_changed_by"],"referenced_columns":["id"],"comment":""},{"name":"t_group_storage_permission_group_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (group_id) REFERENCES m_groups(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_group_storage_permission","referenced_table":"m_groups","columns":["group_id"],"referenced_columns":["id"],"comment":""},{"name":"t_group_storage_permission_storage_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (storage_id) REFERENCES m_storages(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_group_storage_permission","referenced_table":"m_storages","columns":["storage_id"],"referenced_columns":["id"],"comment":""},{"name":"t_group_storage_permission_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (storage_id, group_id)","table":"public.t_group_storage_permission","referenced_table":"","columns":["storage_id","group_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.m_channels","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"name","type":"varchar(255)","nullable":false,"default":null,"comment":""},{"name":"admin_group_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"connectable_group_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"last_activity_at","type":"timestamp without time zone","nullable":true,"default":null,"comment":""},{"name":"created_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"updated_by","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"m_channels_pkey","def":"CREATE UNIQUE INDEX m_channels_pkey ON public.m_channels USING btree (id)","table":"public.m_channels","columns":["id"],"comment":""},{"name":"idx_m_channels_name","def":"CREATE INDEX idx_m_channels_name ON public.m_channels USING btree (name)","table":"public.m_channels","columns":["name"],"comment":""},{"name":"idx_m_channels_last_activity_at","def":"CREATE INDEX idx_m_channels_last_activity_at ON public.m_channels USING btree (last_activity_at)","table":"public.m_channels","columns":["last_activity_at"],"comment":""}],"constraints":[{"name":"m_channels_created_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (created_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.m_channels","referenced_table":"m_users","columns":["created_by"],"referenced_columns":["id"],"comment":""},{"name":"m_channels_updated_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (updated_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.m_channels","referenced_table":"m_users","columns":["updated_by"],"referenced_columns":["id"],"comment":""},{"name":"m_channels_admin_group_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (admin_group_id) REFERENCES m_groups(id) ON UPDATE RESTRICT ON DELETE RESTRICT","table":"public.m_channels","referenced_table":"m_groups","columns":["admin_group_id"],"referenced_columns":["id"],"comment":""},{"name":"m_channels_connectable_group_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (connectable_group_id) REFERENCES m_groups(id) ON UPDATE RESTRICT ON DELETE RESTRICT","table":"public.m_channels","referenced_table":"m_groups","columns":["connectable_group_id"],"referenced_columns":["id"],"comment":""},{"name":"m_channels_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.m_channels","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.t_user_channel","type":"BASE TABLE","comment":"","columns":[{"name":"user_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"channel_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"connected_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""},{"name":"disconnected_at","type":"timestamp with time zone","nullable":true,"default":null,"comment":""}],"indexes":[{"name":"t_user_channel_pkey","def":"CREATE UNIQUE INDEX t_user_channel_pkey ON public.t_user_channel USING btree (user_id, channel_id)","table":"public.t_user_channel","columns":["channel_id","user_id"],"comment":""}],"constraints":[{"name":"t_user_channel_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES m_users(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_user_channel","referenced_table":"m_users","columns":["user_id"],"referenced_columns":["id"],"comment":""},{"name":"t_user_channel_channel_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (channel_id) REFERENCES m_channels(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_user_channel","referenced_table":"m_channels","columns":["channel_id"],"referenced_columns":["id"],"comment":""},{"name":"t_user_channel_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (user_id, channel_id)","table":"public.t_user_channel","referenced_table":"","columns":["user_id","channel_id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""},{"name":"public.t_chats","type":"BASE TABLE","comment":"","columns":[{"name":"id","type":"uuid","nullable":false,"default":"uuid_generate_v4()","comment":""},{"name":"content","type":"text","nullable":false,"default":null,"comment":""},{"name":"channel_id","type":"uuid","nullable":false,"default":null,"comment":""},{"name":"user_id","type":"uuid","nullable":true,"default":null,"comment":""},{"name":"posted_at","type":"timestamp with time zone","nullable":false,"default":null,"comment":""}],"indexes":[{"name":"t_chats_pkey","def":"CREATE UNIQUE INDEX t_chats_pkey ON public.t_chats USING btree (id)","table":"public.t_chats","columns":["id"],"comment":""},{"name":"idx_m_chats_posted_at","def":"CREATE INDEX idx_m_chats_posted_at ON public.t_chats USING btree (posted_at)","table":"public.t_chats","columns":["posted_at"],"comment":""}],"constraints":[{"name":"t_chats_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","table":"public.t_chats","referenced_table":"m_users","columns":["user_id"],"referenced_columns":["id"],"comment":""},{"name":"t_chats_channel_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (channel_id) REFERENCES m_channels(id) ON UPDATE CASCADE ON DELETE CASCADE","table":"public.t_chats","referenced_table":"m_channels","columns":["channel_id"],"referenced_columns":["id"],"comment":""},{"name":"t_chats_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.t_chats","referenced_table":"","columns":["id"],"referenced_columns":[],"comment":""}],"triggers":[],"def":""}],"relations":[{"table":"public.m_users","columns":["created_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (created_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.m_roles","columns":["category_id"],"cardinality":"Zero or more","parent_table":"public.m_role_categories","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (category_id) REFERENCES m_role_categories(id) ON UPDATE RESTRICT ON DELETE RESTRICT","virtual":false},{"table":"public.t_user_role","columns":["attached_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (attached_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.t_user_role","columns":["user_id"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES m_users(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.t_user_role","columns":["role_id"],"cardinality":"Zero or more","parent_table":"public.m_roles","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (role_id) REFERENCES m_roles(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.m_groups","columns":["created_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (created_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.t_user_group","columns":["user_id"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES m_users(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.t_user_group","columns":["group_id"],"cardinality":"Zero or more","parent_table":"public.m_groups","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (group_id) REFERENCES m_groups(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.t_group_invites","columns":["canceled_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (canceled_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.t_group_invites","columns":["invited_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (invited_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.t_group_invites","columns":["user_id"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES m_users(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.t_group_invites","columns":["group_id"],"cardinality":"Zero or more","parent_table":"public.m_groups","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (group_id) REFERENCES m_groups(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.m_user_permissions","columns":["category_id"],"cardinality":"Zero or more","parent_table":"public.m_user_permission_categories","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (category_id) REFERENCES m_user_permission_categories(id) ON UPDATE RESTRICT ON DELETE RESTRICT","virtual":false},{"table":"public.t_user_group_permission","columns":["attached_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (attached_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.t_user_group_permission","columns":["user_group_id"],"cardinality":"Zero or more","parent_table":"public.t_user_group","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_group_id) REFERENCES t_user_group(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.t_user_group_permission","columns":["permission_id"],"cardinality":"Zero or more","parent_table":"public.m_user_permissions","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (permission_id) REFERENCES m_user_permissions(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.m_storages","columns":["created_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (created_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.t_group_storage_permission","columns":["attached_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (attached_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.t_group_storage_permission","columns":["last_changed_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (last_changed_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.t_group_storage_permission","columns":["group_id"],"cardinality":"Zero or more","parent_table":"public.m_groups","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (group_id) REFERENCES m_groups(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.t_group_storage_permission","columns":["storage_id"],"cardinality":"Zero or more","parent_table":"public.m_storages","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (storage_id) REFERENCES m_storages(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.m_channels","columns":["created_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (created_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.m_channels","columns":["updated_by"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (updated_by) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.m_channels","columns":["admin_group_id"],"cardinality":"Zero or more","parent_table":"public.m_groups","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (admin_group_id) REFERENCES m_groups(id) ON UPDATE RESTRICT ON DELETE RESTRICT","virtual":false},{"table":"public.m_channels","columns":["connectable_group_id"],"cardinality":"Zero or more","parent_table":"public.m_groups","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (connectable_group_id) REFERENCES m_groups(id) ON UPDATE RESTRICT ON DELETE RESTRICT","virtual":false},{"table":"public.t_user_channel","columns":["user_id"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (user_id) REFERENCES m_users(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.t_user_channel","columns":["channel_id"],"cardinality":"Zero or more","parent_table":"public.m_channels","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (channel_id) REFERENCES m_channels(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false},{"table":"public.t_chats","columns":["user_id"],"cardinality":"Zero or more","parent_table":"public.m_users","parent_columns":["id"],"parent_cardinality":"Zero or one","def":"FOREIGN KEY (user_id) REFERENCES m_users(id) ON UPDATE SET NULL ON DELETE SET NULL","virtual":false},{"table":"public.t_chats","columns":["channel_id"],"cardinality":"Zero or more","parent_table":"public.m_channels","parent_columns":["id"],"parent_cardinality":"Exactly one","def":"FOREIGN KEY (channel_id) REFERENCES m_channels(id) ON UPDATE CASCADE ON DELETE CASCADE","virtual":false}],"functions":[{"name":"public.uuid_nil","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_ns_dns","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_ns_url","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_ns_oid","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_ns_x500","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_generate_v1","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_generate_v1mc","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_generate_v3","return_type":"uuid","arguments":"namespace uuid, name text","type":"FUNCTION"},{"name":"public.uuid_generate_v4","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_generate_v5","return_type":"uuid","arguments":"namespace uuid, name text","type":"FUNCTION"}],"driver":{"name":"postgres","database_version":"PostgreSQL 14.10 (Debian 14.10-1.pgdg120+1) on x86_64-pc-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit","meta":{"current_schema":"public","search_paths":["\"$user\"","public"],"dict":{"Functions":"Stored procedures and functions"}}}}
